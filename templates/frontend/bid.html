{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ</title>
    
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #f5f5f5;
            font-family: 'Segoe UI', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
        }
        
        .container {
            max-width: 600px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .card {
            background: #fff;
            border: 2px solid #8B0000;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(139, 0, 0, 0.1);
        }
        
        .card-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #8B0000;
        }
        
        .card-header h1 {
            color: #8B0000;
            font-size: 2rem;
            font-weight: 700;
        }
        
        .order-number {
            background: #8B0000;
            color: #fff;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 700;
            font-size: 1.1rem;
            display: inline-block;
            margin-top: 15px;
        }
        
        .section {
            margin-bottom: 25px;
        }
        
        .section h2 {
            color: #8B0000;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #8B0000;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .info-row:last-child {
            border-bottom: none;
        }
        
        .info-label {
            font-weight: 600;
            color: #8B0000;
            min-width: 140px;
        }
        
        .info-value {
            color: #333;
            text-align: right;
            flex: 1;
            margin-left: 20px;
        }
        
        .btn {
            display: inline-block;
            background: #8B0000;
            color: #fff;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1.1rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 2px solid #8B0000;
            cursor: pointer;
        }
        
        .btn:hover {
            background: #fff;
            color: #8B0000;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(139, 0, 0, 0.2);
        }
        
        .btn-primary {
            background: #8B0000;
            color: #fff;
        }
        
        .btn-primary:hover {
            background: #fff;
            color: #8B0000;
        }
        
        .text-center {
            text-align: center;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="card">
        <div class="card-header">
            <h1>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞—è–≤–∫–µ</h1>
            <div class="order-number" id="order-id"></div>
        </div>

        <div style="text-align: center; margin-bottom: 20px;">
            <a href="/" class="btn" style="background: #fff; color: #8B0000; border: 2px solid #8B0000; margin-right: 10px;">üè† –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∑–∞—è–≤–∫–∞–º</a>
        </div>

        <div class="section">
            <h2>üìã –î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏</h2>
            <div class="info-row"><span class="info-label">–ë—Ä–µ–Ω–¥ –∏ –º–æ–¥–µ–ª—å:</span><span class="info-value" id="brand"></span></div>
            <div class="info-row"><span class="info-label">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞:</span><span class="info-value" id="year"></span></div>
            <div class="info-row"><span class="info-label">–ü—Ä–æ–±–µ–≥:</span><span class="info-value" id="mileage"></span></div>
            <div class="info-row"><span class="info-label">–¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞:</span><span class="info-value" id="fuel_type"></span></div>
            <div class="info-row"><span class="info-label">–¢–∏–ø –ø—Ä–∏–≤–æ–¥–∞:</span><span class="info-value" id="drive_type"></span></div>
            <div class="info-row"><span class="info-label">–î–≤–∏–≥–∞—Ç–µ–ª—å:</span><span class="info-value" id="engine"></span></div>
            <div class="info-row"><span class="info-label">–ú–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è:</span><span class="info-value" id="power"></span></div>
            <div class="info-row"><span class="info-label">–ö–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á:</span><span class="info-value" id="transmission"></span></div>
            <div class="info-row"><span class="info-label">–°—Å—ã–ª–∫–∞ –Ω–∞ –∞–≤—Ç–æ:</span><span class="info-value" id="transmission"></span></div>
            <div class="info-row"><span class="info-label">–°—Å—ã–ª–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</span><span class="info-value" id="link_user"></span></div>
        </div>
        <div class="section">
            <h2>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
            <div class="info-row"><span class="info-label">–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω:</span><span class="info-value" id="create_at"></span></div>
            <div class="info-row"><span class="info-label">–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:</span><span class="info-value" id="last_update"></span></div>
        </div>

        <div class="section">
            <h2>üë§ –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è –æ—Å–º–æ—Ç–æ—Ä—â–∏–∫–∞</h2>
            <div class="info-row"><span class="info-label"></span><span class="info-value" id="arrived_time"></span></div>
        </div>
    </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", async () => {
    const pk = window.location.pathname.split('/').filter(Boolean).pop();
    const response = await fetch(`/api/bid/${pk}/`);
    const order = await response.json();

    document.getElementById("order-id").textContent = `–ó–∞–∫–∞–∑ #${order.id}`;

    const fields = {
        brand: order.brand && order.model ? `${order.brand} ${order.model}` : null,
        year: order.year || null,
        mileage: order.mileage || null,
        fuel_type: order.fuel_type || null,
        drive_type: order.drive_type || null,
        engine: order.engine || null,
        power: order.power || null,
        transmission: order.transmission || null,
        manager: order.manager || null,
        link_user: order.url_users || null,
        arrived_time: order.arrived_time ? new Date(order.arrived_time).toLocaleString('ru-RU', {
            year: 'numeric', month: 'long', day: 'numeric',
            hour: '2-digit', minute: '2-digit'
        })
            : "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ. –í—Ä–µ–º—è –∏ –¥–∞—Ç–∞ –ø—Ä–∏–±—ã—Ç–∏—è –µ—â–µ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã",
        create_at: order.create_at ? new Date(order.create_at).toLocaleString('ru-RU', {
            year: 'numeric', month: 'long', day: 'numeric',
            hour: '2-digit', minute: '2-digit'
        })
        : "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ. –í—Ä–µ–º—è –∏ –¥–∞—Ç–∞ –ø—Ä–∏–±—ã—Ç–∏—è –µ—â–µ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã",
        url: order.url || null,
        last_update: order.last_update
            ? new Date(order.last_update).toLocaleString('ru-RU', {
                year: 'numeric', month: 'long', day: 'numeric',
                hour: '2-digit', minute: '2-digit'
            })
            : "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ. –í—Ä–µ–º—è –∏ –¥–∞—Ç–∞ –ø—Ä–∏–±—ã—Ç–∏—è –µ—â–µ –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω—ã"
    };

    for (const [id, value] of Object.entries(fields)) {
        const elem = document.getElementById(id);
        if (!elem) continue;
        if (value) {
            elem.textContent = value;
            elem.parentElement.style.display = 'flex';
        } else {
            elem.parentElement.style.display = 'none';
        }
    }
});
</script>
</body>
</html> 